/**
 * @license core-layout v6.2.1, 2018-01-21T20:40:38+0100
 * (c) 2018 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e,o){"use strict";e.exports=angular.module("coreLayout.templates",[]).run(["$templateCache",function(e){e.put("core-layout.html",'<div class="cl-header" ui-view="{{::names.header}}"></div><div class="cl-contents" ui-view="{{::names.contents}}"></div><div class="cl-footer" ui-view="{{::names.footer}}"></div>')}])}(module,window),function(e,o){"use strict";"function"==typeof define&&define.amd?define(["angular","angular-iscroll","lodash"],o):"object"==typeof exports?module.exports=o(require("angular"),require("angular-iscroll"),require("lodash")):e.coreLayout=o(e.angular,e.angularIscroll,e.lodash)}(this,function(e,o,t){"use strict";function n(o,t){return o=o||{},t=!!e.isDefined(t)&&t,{all:o.all||t,xs:o.xs||t,sm:o.sm||t,md:o.md||t,lg:o.lg||t}}function a(o,a){var r={};function i(o,n){e.isDefined(o)&&(e.isDefined(n)?t.merge(n,o):t.merge(r.modal,o))}function c(e,o){var t=r[e],n=Date.now(),a=n-(t.lastActionTimeStamp||0)>t.debounceTimeout;return a&&(t.lastActionTimeStamp=n),a}return o.coreLayout=r,{state:r,openModal:function(e){i(e),r.modal.show=!0},updateModal:function(e){i(e)},closeModal:function(e){r.modal.show=!1,i(e)},openDrawer:function(e,o){var t=r[e];i(o,t),c(e)&&(t.show=!0)},updateDrawer:function(e,o){i(o,r[e])},closeDrawer:function(e,o){var t=r[e];c(e)&&(t.show=!1),i(o,t)},toggleDrawer:function(e){var o=r[e];c(e)&&(o.show=!o.show)},layoutChanged:function(e){a.refresh(e)},update:function(e){i(e,r.main)},defaultExcept:n}}a.$inject=["$rootScope","iScrollService"],c.$inject=["$rootScope","coreLayoutService"],u.$inject=["$state","coreLayoutService"];var r={all:"",xs:"-xs",sm:"-sm",md:"-md",lg:"-lg"};function i(e,o,t){return!0===o&&e.push(t),e}function c(e,o){var a={enabled:!0,show:!0,header:{visible:n(),hidden:n()},footer:{visible:n(),hidden:n()},debounceTimeout:0},c={};function u(n,a,u,l){var s=a+"."+u+"."+l;e.$watchCollection("coreLayout."+s,function(e){var d=t.reduce(e,i,[]),f=c[s]||[],m="cl-"+u+"-"+l,h=!1;t.each(t.difference(d,f),function(e){n.$addClass(m+r[e]),h=!0}),t.each(t.difference(f,d),function(e){n.$removeClass(m+r[e]),h=!0}),h&&o.layoutChanged(a),c[s]=d})}return{link:{pre:function(e){var o=e.options.name;e.names={header:o+"-header",contents:o+"-contents",footer:o+"-footer"}},post:function(e,n,r){var i=t.merge({},a,e.options),c=i.name,l=r.$normalize(c),s="cl-"+c;delete i.name,o.state[l]=i,n.attr("id",s);var d=[u(r,l,"header","visible"),u(r,l,"header","hidden"),u(r,l,"footer","visible"),u(r,l,"footer","hidden")];e.$on("$destroy",function(){t.each(d,function(e){e()})})}},scope:{options:"=coreLayout"},templateUrl:"core-layout.html"}}function u(e,o){return{link:function(t,n){n.on("click",function(){e.go(o.state[t.name].closeTargetState)})},scope:{name:"@coreLayoutClose"}}}return function(){var o=document.querySelector("html");function n(e){o.style.height=window.innerHeight+"px"}e.element(window).on("resize",t.debounce(n,125,{leading:!0,maxWait:250,trailing:!0})),n()}(),e.module("coreLayout",[o.name,"coreLayout.templates"]).factory("coreLayoutService",a).directive("coreLayout",c).directive("coreLayoutClose",u)});